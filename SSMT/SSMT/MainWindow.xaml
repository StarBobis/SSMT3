<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="SSMT.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SSMT"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d"
    Closed="Window_Closed">


    <Grid>

        <!-- 背景视频 -->
        <controls:WebView2
            x:Name="BackgroundWebView"
            Grid.ColumnSpan="2"
            Grid.RowSpan="2"
            IsHitTestVisible="False"
            Visibility="Collapsed" />

        <!-- 背景图片 -->
        <Image 
            HorizontalAlignment="Right"
            RenderTransformOrigin="0.5,0.5"
            Grid.ColumnSpan="2"
            Grid.RowSpan="2"
            x:Name="MainWindowImageBrush"  
            Stretch="UniformToFill" >
            <Image.RenderTransform>
                <ScaleTransform />
            </Image.RenderTransform>
        </Image>
        
        

        <!-- 导航栏 -->
        <NavigationView  
            Margin="-2"
            PaneDisplayMode="LeftCompact" 
            x:Name="nvSample" 
            ItemInvoked="nvSample_ItemInvoked" 
            BackRequested="nvSample_BackRequested"
            IsBackEnabled="{Binding ElementName=contentFrame,Path=CanGoBack}" 
            IsBackButtonVisible="Collapsed"
            RequestedTheme="Dark"
            >
            
            <!--Nico: 这里导航栏永远使用黑色主题，这样不管什么背景图都能看清楚-->
            
            <Grid>
                <Frame 
                    x:Name="contentFrame"
                    Navigated="contentFrame_Navigated"/>
            </Grid>
            
            <NavigationView.MenuItems>
                <NavigationViewItem 
                    x:Name="NavigationViewItem_StarterPage" 
                    Icon="Home" 
                    Content="主页" 
                    Tag="HomePage" />
                <NavigationViewItem 
                    x:Name="NavigationViewItem_WorkPage" 
                    Icon="Edit" 
                    Content="工作台" 
                    Tag="WorkPage" />
                <NavigationViewItem 
                    x:Name="NavigationViewItem_TexturePage" 
                    Icon="Pictures" 
                    Content="贴图标记" 
                    Tag="TexturePage" />
                <NavigationViewItem 
                    x:Name="NavigationViewItem_TextureToolBoxPage" 
                    Icon="Scan" 
                    Content="贴图工具箱" 
                    Tag="TextureToolBoxPage" />
                
               
                <NavigationViewItem 
                    x:Name="NavigationViewItem_GameTypePage" 
                    Icon="Priority" 
                    Content="数据类型管理" 
                    Tag="GameTypePage" />
                <NavigationViewItem 
                    x:Name="NavigationViewItem_ModManagePage" 
                    Icon="Manage" 
                    Content="Mod管理" 
                    Tag="ModManagePage" />
                <NavigationViewItem 
                    x:Name="NavigationViewItem_DocumentPage" 
                    Icon="Library" 
                    Content="SSMT文档" 
                    Tag="DocumentPage" />
            </NavigationView.MenuItems>
        </NavigationView>

        

    </Grid>

</Window>
